{"version":3,"sources":["uni-app:///main.js","webpack:///E:/program/web/​​06​​uni-app实战直播app全栈开发​​​​​​/源码【】/【完整】前端代码（含自定义基座）【】【 海量资源尽在：www.wo21.top】/pages/coin/coin.vue?48b7","webpack:///E:/program/web/​​06​​uni-app实战直播app全栈开发​​​​​​/源码【】/【完整】前端代码（含自定义基座）【】【 海量资源尽在：www.wo21.top】/pages/coin/coin.vue?4061","webpack:///E:/program/web/​​06​​uni-app实战直播app全栈开发​​​​​​/源码【】/【完整】前端代码（含自定义基座）【】【 海量资源尽在：www.wo21.top】/pages/coin/coin.vue?628d","webpack:///E:/program/web/​​06​​uni-app实战直播app全栈开发​​​​​​/源码【】/【完整】前端代码（含自定义基座）【】【 海量资源尽在：www.wo21.top】/pages/coin/coin.vue?7134","uni-app:///pages/coin/coin.vue"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","uniPopup","uniPopupDialog","data","activeIndex","list","coin","price","onLoad","methods","pay","token","console","uni","provider","orderInfo","success","title","icon","delta","fail","content","showCancel","chooseCoin","close","done","confirm"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,aAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;;;AAGnD;AACwL;AACxL,gBAAgB,gMAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA6rB,CAAgB,6sBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;eCsDjtB;EACAC;IACAC;IACAC;EACA;EACAC;IACA;MACAC;MACAC;QACAC;QACAC;MACA;QACAD;QACAC;MACA;QACAD;QACAC;MACA;QACAD;QACAC;MACA;QACAD;QACAC;MACA;QACAA;MACA;MACAA;IACA;EACA;EACAC;IACA;IACA;MACA;IACA;EACA;EACAC;IACAC;MAAA;MACA;QACAH;MACA;QACAI;MACA;QACAC;QACAC;UACAC;UACAC;UACAC;YACA;YACAH;cACAI;cACAC;YACA;YACAL;cACAM;YACA;YACAP;UACA;UACAQ;YACAR;YACAC;cACAI;cACAI;cACAC;YACA;UACA;QACA;MACA;QACAV;MACA;IACA;IACAW;MACA;MACA;MACA;QACA;MACA;QACA;QACA;MACA;IACA;IACA;AACA;AACA;AACA;IACAC;MACA;MACA;MACAC;IACA;IACA;AACA;AACA;AACA;AACA;IACAC;MACAd;MACA;QACA;UACAK;UACAC;QACA;MACA;MACA;MACAO;IACA;EACA;AACA;AAAA,2B","file":"pages/coin/coin.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/coin/coin.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./coin.vue?vue&type=template&id=435ad7a6&\"\nvar renderjs\nimport script from \"./coin.vue?vue&type=script&lang=js&\"\nexport * from \"./coin.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!F:\\\\program\\\\Hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/coin/coin.vue\"\nexport default component.exports","export * from \"-!F:\\\\program\\\\Hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!F:\\\\program\\\\Hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!F:\\\\program\\\\Hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!F:\\\\program\\\\Hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!F:\\\\program\\\\Hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\program\\\\Hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./coin.vue?vue&type=template&id=435ad7a6&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!F:\\\\program\\\\Hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\program\\\\Hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!F:\\\\program\\\\Hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\program\\\\Hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\program\\\\Hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./coin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!F:\\\\program\\\\Hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\program\\\\Hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!F:\\\\program\\\\Hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\program\\\\Hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\program\\\\Hbuilder\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./coin.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"border-top border-light-secondary p-3\">\r\n\t\t<view class=\"rounded py-4 flex flex-column align-center justify-center bg-main\">\r\n\t\t\t<text class=\"text-white font-sm mb-2\">当前金币</text>\r\n\t\t\t<text class=\"font-weight-bold text-white\" style=\"font-size: 60rpx;\">50</text>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"border-top border-light-secondary my-3\"></view>\r\n\r\n\t\t<view>\r\n\t\t\t<text class=\"font-sm text-muted\">请选择充值金币</text>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"flex flex-wrap\" style=\"margin-left: -20rpx;margin-right: -20rpx;\">\r\n\t\t\t<view style=\"width: 33.3%;box-sizing: border-box;\" class=\"p-2\" v-for=\"(item,index) in list\" :key=\"index\" @click=\"chooseCoin(index)\">\r\n\t\t\t\t<view v-if=\"item.price > 0\" style=\"height: 130rpx;\" class=\"border rounded flex flex-column align-center justify-center\"\r\n\t\t\t\t :class=\" activeIndex === index ? 'border-main' : '' \">\r\n\t\t\t\t\t<view class=\"flex align-center\">\r\n\t\t\t\t\t\t<text class=\"iconfont text-warning mr-1\">&#xe633;</text>\r\n\t\t\t\t\t\t<text class=\"font-md font-weight-bold\">{{item.coin}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<text class=\"font text-light-muted\">￥{{item.price}}</text>\r\n\t\t\t\t</view>\r\n\r\n\r\n\t\t\t\t<view v-else style=\"height: 130rpx;\" class=\"border rounded flex flex-column align-center justify-center\">\r\n\t\t\t\t\t<text class=\"font text-light-muted\">自定义</text>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\r\n\t\t<view class=\"position-fixed left-0 bottom-0 right-0 border-top flex px-3 align-center\" style=\"height: 100rpx;\">\r\n\t\t\t<view class=\"flex align-center\">\r\n\t\t\t\t<text class=\"iconfont text-warning mr-1\">&#xe633;</text>\r\n\t\t\t\t<text class=\"font-md font-weight-bold\">{{price}}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"bg-main rounded flex align-center justify-center ml-auto\" style=\"width: 150rpx;height: 70rpx;\" @click=\"pay\">\r\n\t\t\t\t<text class=\"text-white font-md\">去充值</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\r\n\t\t<uni-popup ref=\"popup\" type=\"dialog\">\r\n\t\t\t<uni-popup-dialog mode=\"input\" message=\"自定义充值\" :duration=\"2000\" placeholder=\"充值金额\" inputType=\"number\" :before-close=\"true\" @close=\"close\" @confirm=\"confirm\"></uni-popup-dialog>\r\n\t\t</uni-popup>\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport uniPopup from '@/components/uni-ui/uni-popup/uni-popup.vue';\r\n\timport uniPopupDialog from '@/components/uni-ui/uni-popup/uni-popup-dialog.vue';\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tuniPopup,\r\n\t\t\tuniPopupDialog\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tactiveIndex: 0,\r\n\t\t\t\tlist: [{\r\n\t\t\t\t\tcoin: 10,\r\n\t\t\t\t\tprice: 10\r\n\t\t\t\t}, {\r\n\t\t\t\t\tcoin: 20,\r\n\t\t\t\t\tprice: 20\r\n\t\t\t\t}, {\r\n\t\t\t\t\tcoin: 30,\r\n\t\t\t\t\tprice: 30\r\n\t\t\t\t}, {\r\n\t\t\t\t\tcoin: 50,\r\n\t\t\t\t\tprice: 50\r\n\t\t\t\t}, {\r\n\t\t\t\t\tcoin: 100,\r\n\t\t\t\t\tprice: 100\r\n\t\t\t\t}, {\r\n\t\t\t\t\tprice: 0\r\n\t\t\t\t}],\r\n\t\t\t\tprice: 0\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tlet p = this.list[this.activeIndex].price\r\n\t\t\tif (p > 0) {\r\n\t\t\t\tthis.price = p\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tpay(){\r\n\t\t\t\tthis.$H.post('/gift/wxpay',{\r\n\t\t\t\t\tprice:this.price\r\n\t\t\t\t},{\r\n\t\t\t\t\ttoken:true\r\n\t\t\t\t}).then(orderInfo=>{\r\n\t\t\t\t\tconsole.log(orderInfo);\r\n\t\t\t\t\tuni.requestPayment({\r\n\t\t\t\t\t\tprovider:\"wxpay\",\r\n\t\t\t\t\t\torderInfo:orderInfo,\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tthis.$store.dispatch('getUserInfo')\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '充值成功',\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\t\t\t\tdelta: 1\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\t\t\tcontent: '支付失败',\r\n\t\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}).catch(err=>{\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tchooseCoin(index) {\r\n\t\t\t\tthis.activeIndex = index\r\n\t\t\t\tlet p = this.list[index].price\r\n\t\t\t\tif (p > 0) {\r\n\t\t\t\t\tthis.price = p\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 自定义价格\r\n\t\t\t\t\tthis.$refs.popup.open()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 点击取消按钮触发\r\n\t\t\t * @param {Object} done\r\n\t\t\t */\r\n\t\t\tclose(done) {\r\n\t\t\t\t// TODO 做一些其他的事情，before-close 为true的情况下，手动执行 done 才会关闭对话框\r\n\t\t\t\t// ...\r\n\t\t\t\tdone()\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 点击确认按钮触发\r\n\t\t\t * @param {Object} done\r\n\t\t\t * @param {Object} value\r\n\t\t\t */\r\n\t\t\tconfirm(done, value) {\r\n\t\t\t\tconsole.log(value);\r\n\t\t\t\tif(!value){\r\n\t\t\t\t\treturn uni.showToast({\r\n\t\t\t\t\t\ttitle: '请输入要充值的金额',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tthis.price = value\r\n\t\t\t\tdone()\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\n"],"sourceRoot":""}